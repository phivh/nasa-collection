(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{202:function(t,e,n){"use strict";function a(){return function(t,e){var n=JSON.parse(localStorage.getItem("data"));n||(n=[]),t(function(t){return{type:"FETCHED_LOCAL",data:t}}(n))}}n.d(e,"a",function(){return a})},203:function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxPages=7}var e,n,r;return e=t,(n=[{key:"mountGroups",value:function(t){for(var e=0,n=[],a=0,r=this.getTotalPages(t,this.maxPages),o=0;o<r;o++){n.push([]),a=this.maxPages,t<this.maxPages?a=t:o===Math.floor(r)&&(a=t%e);for(var s=0;s<a;s++)n[o].push(e),e++}return n}},{key:"getCurrentGroup",value:function(t,e){return t[e]||[]}},{key:"groupPages",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=Number(t)/this.maxPages;return Math.floor(e)}},{key:"getPages",value:function(t){var e=this.getCurrentGroup(this.mountGroups(t.total),this.groupPages(t.current-1));return e<=1?[]:e}},{key:"getTotalPages",value:function(t,e){return t/e}},{key:"hasNext",value:function(t){return t.total>1&&t.total>1&&t.current<t.total}},{key:"hasPrev",value:function(t){return t.total>0&&t.current>1}},{key:"getPrev",value:function(t){if(this.hasPrev(t))return t.current--}},{key:"getNext",value:function(t){if(this.hasNext(t))return t.current++}}])&&a(e.prototype,n),r&&a(e,r),t}();e.a=r},205:function(t,e,n){"use strict";var a=n(0),r=n.n(a),o=n(1),s=n.n(o),i=n(37),c=n(206),u=n.n(c),l=n(72),f=n(73),p=n(74);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}l.a.library.add(p.d,p.h,p.c,p.f,p.e);var b=function(t){function e(t){var n,a,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a=this,(n=!(r=m(e).call(this,t))||"object"!==h(r)&&"function"!=typeof r?j(a):r).state={data:JSON.parse(localStorage.getItem("data"))},n.onAddCollection=n.onAddCollection.bind(j(n)),n.onAddFavorite=n.onAddFavorite.bind(j(n)),n.onDelete=n.onDelete.bind(j(n)),n.onEdit=n.onEdit.bind(j(n)),n}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,a["Component"]),n=e,(o=[{key:"onAddCollection",value:function(){this.props.history.push("/add/".concat(this.props.id))}},{key:"onAddFavorite",value:function(){var t=this;if(this.state.data.some(function(e){return e.data.nasa_id===t.props.id})){var e=this.state.data.map(function(e,n){return e.data.nasa_id===t.props.id&&(e.favorite?e.favorite=!1:e.favorite=!0),e});localStorage.setItem("data",JSON.stringify(e)),this.props.refresh()}}},{key:"onDelete",value:function(){var t=this;this.state.data.some(function(e){return e.data.nasa_id===t.props.id})&&(this.state.data.forEach(function(e,n){e.data.nasa_id===t.props.id&&t.state.data.splice(n,1)}),localStorage.setItem("data",JSON.stringify(this.state.data)),this.props.refresh())}},{key:"onEdit",value:function(){this.props.history.push("/edit/".concat(this.props.id))}},{key:"render",value:function(){var t=this.props.history.location.pathname.indexOf("search")>-1;return r.a.createElement("article",{className:"item"},r.a.createElement(i.a,{to:{pathname:"detail/".concat(this.props.id)}},"video"===this.props.media_type&&r.a.createElement("span",{className:"button-play"},r.a.createElement(f.a,{icon:"play",size:"lg"})),r.a.createElement("img",{src:this.props.thumb,className:"img-responsive",alt:""})),r.a.createElement("div",{className:"author"},r.a.createElement("span",null,this.props.location),r.a.createElement("span",null,r.a.createElement(u.a,{format:"DD MMM, YYYY"},this.props.date))),r.a.createElement("h3",null,this.props.title),r.a.createElement("div",{className:"description"},this.props.description),t?r.a.createElement("button",{onClick:this.onAddCollection,className:"button button-add"},r.a.createElement(f.a,{icon:"plus",size:"lg"}),r.a.createElement("span",null,"Add to NASA Collection")):r.a.createElement("div",{className:"action-list"},r.a.createElement("button",{className:this.props.favorite?"favorited":""},r.a.createElement(f.a,{onClick:this.onAddFavorite,icon:"heart",size:"lg"})),r.a.createElement("button",null,r.a.createElement(f.a,{onClick:this.onDelete,icon:"trash",size:"lg"})),r.a.createElement("button",null,r.a.createElement(f.a,{onClick:this.onEdit,icon:"edit",size:"lg"}))))}}])&&d(n.prototype,o),s&&d(n,s),e}();b.propType={id:s.a.number,thumb:s.a.string,title:s.a.string,refresh:s.a.func};var v=b;function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function E(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,w(e).apply(this,arguments))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,a["Component"]),n=e,(o=[{key:"sliceDesc",value:function(t){return t&&t.length>100?t.substring(0,100)+"...":t}},{key:"render",value:function(){var t=this,e=this.props.history,n=this.props.firstFetch;return r.a.createElement("section",{className:"nasa-list"},this.props.data.map(function(a,o){var s=a.data?a.data:a,i=a.thumb,c=!!a.favorite,u=t.sliceDesc(s.description);return r.a.createElement(v,{id:s.nasa_id,title:s.title,location:s.location,date:s.date_created,description:u,thumb:i,media_type:s.media_type,history:e,refresh:n,favorite:c,key:o})}))}}])&&k(n.prototype,o),s&&k(n,s),e}();_.propTypes={data:s.a.array};e.a=_},207:function(t,e,n){var a={"./af":75,"./af.js":75,"./ar":76,"./ar-dz":77,"./ar-dz.js":77,"./ar-kw":78,"./ar-kw.js":78,"./ar-ly":79,"./ar-ly.js":79,"./ar-ma":80,"./ar-ma.js":80,"./ar-sa":81,"./ar-sa.js":81,"./ar-tn":82,"./ar-tn.js":82,"./ar.js":76,"./az":83,"./az.js":83,"./be":84,"./be.js":84,"./bg":85,"./bg.js":85,"./bm":86,"./bm.js":86,"./bn":87,"./bn.js":87,"./bo":88,"./bo.js":88,"./br":89,"./br.js":89,"./bs":90,"./bs.js":90,"./ca":91,"./ca.js":91,"./cs":92,"./cs.js":92,"./cv":93,"./cv.js":93,"./cy":94,"./cy.js":94,"./da":95,"./da.js":95,"./de":96,"./de-at":97,"./de-at.js":97,"./de-ch":98,"./de-ch.js":98,"./de.js":96,"./dv":99,"./dv.js":99,"./el":100,"./el.js":100,"./en-SG":101,"./en-SG.js":101,"./en-au":102,"./en-au.js":102,"./en-ca":103,"./en-ca.js":103,"./en-gb":104,"./en-gb.js":104,"./en-ie":105,"./en-ie.js":105,"./en-il":106,"./en-il.js":106,"./en-nz":107,"./en-nz.js":107,"./eo":108,"./eo.js":108,"./es":109,"./es-do":110,"./es-do.js":110,"./es-us":111,"./es-us.js":111,"./es.js":109,"./et":112,"./et.js":112,"./eu":113,"./eu.js":113,"./fa":114,"./fa.js":114,"./fi":115,"./fi.js":115,"./fo":116,"./fo.js":116,"./fr":117,"./fr-ca":118,"./fr-ca.js":118,"./fr-ch":119,"./fr-ch.js":119,"./fr.js":117,"./fy":120,"./fy.js":120,"./ga":121,"./ga.js":121,"./gd":122,"./gd.js":122,"./gl":123,"./gl.js":123,"./gom-latn":124,"./gom-latn.js":124,"./gu":125,"./gu.js":125,"./he":126,"./he.js":126,"./hi":127,"./hi.js":127,"./hr":128,"./hr.js":128,"./hu":129,"./hu.js":129,"./hy-am":130,"./hy-am.js":130,"./id":131,"./id.js":131,"./is":132,"./is.js":132,"./it":133,"./it-ch":134,"./it-ch.js":134,"./it.js":133,"./ja":135,"./ja.js":135,"./jv":136,"./jv.js":136,"./ka":137,"./ka.js":137,"./kk":138,"./kk.js":138,"./km":139,"./km.js":139,"./kn":140,"./kn.js":140,"./ko":141,"./ko.js":141,"./ku":142,"./ku.js":142,"./ky":143,"./ky.js":143,"./lb":144,"./lb.js":144,"./lo":145,"./lo.js":145,"./lt":146,"./lt.js":146,"./lv":147,"./lv.js":147,"./me":148,"./me.js":148,"./mi":149,"./mi.js":149,"./mk":150,"./mk.js":150,"./ml":151,"./ml.js":151,"./mn":152,"./mn.js":152,"./mr":153,"./mr.js":153,"./ms":154,"./ms-my":155,"./ms-my.js":155,"./ms.js":154,"./mt":156,"./mt.js":156,"./my":157,"./my.js":157,"./nb":158,"./nb.js":158,"./ne":159,"./ne.js":159,"./nl":160,"./nl-be":161,"./nl-be.js":161,"./nl.js":160,"./nn":162,"./nn.js":162,"./pa-in":163,"./pa-in.js":163,"./pl":164,"./pl.js":164,"./pt":165,"./pt-br":166,"./pt-br.js":166,"./pt.js":165,"./ro":167,"./ro.js":167,"./ru":168,"./ru.js":168,"./sd":169,"./sd.js":169,"./se":170,"./se.js":170,"./si":171,"./si.js":171,"./sk":172,"./sk.js":172,"./sl":173,"./sl.js":173,"./sq":174,"./sq.js":174,"./sr":175,"./sr-cyrl":176,"./sr-cyrl.js":176,"./sr.js":175,"./ss":177,"./ss.js":177,"./sv":178,"./sv.js":178,"./sw":179,"./sw.js":179,"./ta":180,"./ta.js":180,"./te":181,"./te.js":181,"./tet":182,"./tet.js":182,"./tg":183,"./tg.js":183,"./th":184,"./th.js":184,"./tl-ph":185,"./tl-ph.js":185,"./tlh":186,"./tlh.js":186,"./tr":187,"./tr.js":187,"./tzl":188,"./tzl.js":188,"./tzm":189,"./tzm-latn":190,"./tzm-latn.js":190,"./tzm.js":189,"./ug-cn":191,"./ug-cn.js":191,"./uk":192,"./uk.js":192,"./ur":193,"./ur.js":193,"./uz":194,"./uz-latn":195,"./uz-latn.js":195,"./uz.js":194,"./vi":196,"./vi.js":196,"./x-pseudo":197,"./x-pseudo.js":197,"./yo":198,"./yo.js":198,"./zh-cn":199,"./zh-cn.js":199,"./zh-hk":200,"./zh-hk.js":200,"./zh-tw":201,"./zh-tw.js":201};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=o,t.exports=r,r.id=207},213:function(t,e,n){"use strict";n.r(e);var a=n(9),r=n(202),o=n(203),s=n(0),i=n.n(s),c=n(1),u=n.n(c),l=n(205),f=n(37),p=n(72),h=n(73),d=n(74);p.a.library.add(d.f);var m=function(){return i.a.createElement("header",{className:"header"},i.a.createElement("h1",null,"NASA Collection"),i.a.createElement(f.a,{className:"addItem",to:{pathname:"/search"}},i.a.createElement(h.a,{icon:"plus",size:"lg"}),i.a.createElement("span",null,"Add New Item")))};function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var k=function(t){function e(t){var n,a,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a=this,(n=!(r=b(e).call(this,t))||"object"!==j(r)&&"function"!=typeof r?v(a):r).state={data:n.props.data,filters:[{key:"type",name:"Type"},{key:"date",name:"Date"},{key:"favorite",name:"Favorite"}]},n.handleFilterChange=n.handleFilterChange.bind(v(n)),n}var n,a,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,s["Component"]),n=e,(a=[{key:"componentDidMount",value:function(){this.props.firstFetch()}},{key:"handleFilterChange",value:function(t){switch(t.target.value){case"":return this.setState({data:this.props.data});case"favorite":var e=this.props.data;return e=e.filter(function(t){return!0===t.favorite}),this.setState({data:e});case"date":var n=this.props.data;return n=n.sort(function(t,e){return new Date(t.data.date_created)-new Date(e.data.date_created)}),this.setState({data:n});default:return this.props.data}}},{key:"render",value:function(){var t=this.props.data;this.state.data.length>0&&this.state.data.length<this.props.data.length&&(t=this.state.data);var e=this.props,n=e.history,a=e.firstFetch;return i.a.createElement("section",{className:"wrap-container"},i.a.createElement(m,null),i.a.createElement("div",{className:"filters"},i.a.createElement("h3",null,"Filter:"),i.a.createElement("select",{onChange:this.handleFilterChange,name:"filter"},i.a.createElement("option",{value:""},"All"),this.state.filters.map(function(t,e){return i.a.createElement("option",{value:t.key,key:e},t.name)}))),i.a.createElement(l.a,{data:t,history:n,firstFetch:a}))}}])&&y(n.prototype,a),r&&y(n,r),e}();k.propTypes={firstFetch:u.a.func};var E=k,w=new o.a;e.default=Object(a.c)(function(t){return{fetching:t.fetching,search:t.search,pagination:Object.assign({},t.pagination,{pages:w.getPages(t.pagination),hits:t.pagination.hits,next:w.hasNext(t.pagination),prev:w.hasPrev(t.pagination)}),data:t.local}},function(t,e){return{firstFetch:function(){t(Object(r.a)())}}})(E)}}]);
//# sourceMappingURL=3.bundle.js.map